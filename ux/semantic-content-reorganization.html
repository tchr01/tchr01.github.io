<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Semantic Content Reorganization | AI-Enhanced UX Prototypes</title>
    <link rel="stylesheet" href="./style.css">
    <style>
        /* Demo-specific styles */
        .demo-app {
            background: white;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            height: 700px;
            position: relative;
            overflow: hidden;
            margin: 40px 0;
        }

        .demo-header {
            background: #f7fafc;
            border-bottom: 1px solid #e2e8f0;
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .demo-title {
            font-weight: 600;
            color: #2d3748;
        }

        .demo-header-right {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .ai-status {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.8rem;
            color: #4299e1;
        }

        .demo-controls-header {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .demo-actions {
            display: flex;
            gap: 10px;
        }

        .demo-btn {
            background: #4299e1;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.2s ease;
            font-weight: 500;
        }

        .demo-btn:hover {
            background: #3182ce;
            transform: translateY(-1px);
        }

        .demo-btn.secondary {
            background: #e2e8f0;
            color: #4a5568;
        }

        .demo-btn.secondary:hover {
            background: #cbd5e0;
        }

        .progress-indicator {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.75rem;
            color: #4a5568;
            padding-left: 15px;
            border-left: 1px solid #e2e8f0;
        }

        .status-indicator {
            width: 8px;
            height: 8px;
            background: #4299e1;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }

        .demo-content {
            display: grid;
            grid-template-columns: 280px 1fr 240px;
            grid-template-rows: 1fr auto;
            height: calc(100% - 70px);
        }

        /* Left Sidebar - Content List */
        .content-list {
            background: #f8f9fa;
            border-right: 1px solid #e2e8f0;
            padding: 15px;
            overflow-y: auto;
        }

        .content-list h4 {
            font-size: 0.9rem;
            color: #4a5568;
            margin-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .content-item {
            background: white;
            padding: 10px;
            margin-bottom: 8px;
            border-radius: 6px;
            border: 1px solid #e2e8f0;
            cursor: grab;
            transition: all 0.2s ease;
            font-size: 0.8rem;
        }

        .content-item:hover {
            border-color: #4299e1;
            box-shadow: 0 2px 4px rgba(66, 153, 225, 0.1);
        }

        .content-item.dragging {
            opacity: 0.5;
            transform: rotate(2deg);
        }

        .content-item .title {
            font-weight: 500;
            color: #2d3748;
            margin-bottom: 4px;
        }

        .content-item .meta {
            color: #718096;
            font-size: 0.7rem;
        }

        /* Center Area - Organization Canvas */
        .organization-canvas {
            padding: 20px;
            position: relative;
            background: linear-gradient(45deg, #f7fafc 25%, transparent 25%), 
                        linear-gradient(-45deg, #f7fafc 25%, transparent 25%), 
                        linear-gradient(45deg, transparent 75%, #f7fafc 75%), 
                        linear-gradient(-45deg, transparent 75%, #f7fafc 75%);
            background-size: 20px 20px;
            background-position: 0 0, 0 10px, 10px -10px, -10px 0px;
            overflow-y: auto;
        }

        .organization-group {
            background: white;
            border: 2px dashed #cbd5e0;
            border-radius: 12px;
            min-height: 120px;
            padding: 15px;
            margin-bottom: 15px;
            position: relative;
            transition: all 0.3s ease;
        }

        .organization-group.ai-suggested {
            border-color: #4299e1;
            background: #ebf8ff;
        }

        .organization-group.user-created {
            border-color: #38a169;
            background: #f0fff4;
        }

        .organization-group.drop-target {
            border-color: #ed8936;
            background: #fffbf0;
            transform: scale(1.02);
        }

        .group-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
            padding-bottom: 8px;
            border-bottom: 1px solid #e2e8f0;
        }

        .group-title.editable {
            cursor: pointer;
            padding: 2px 4px;
            border-radius: 4px;
            transition: background 0.2s ease;
        }

        .group-title.editable:hover {
            background: rgba(66, 153, 225, 0.1);
        }

        .group-title-input {
            background: white;
            border: 2px solid #4299e1;
            border-radius: 4px;
            padding: 2px 6px;
            font-size: 0.9rem;
            font-weight: 600;
            color: #2d3748;
            width: 150px;
        }

        .group-title-input:focus {
            outline: none;
            border-color: #3182ce;
        }

        .group-badge {
            background: #4299e1;
            color: white;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 0.7rem;
            font-weight: 500;
        }

        .group-badge.user {
            background: #38a169;
        }

        .group-items {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .grouped-item {
            background: #4299e1;
            color: white;
            padding: 4px 8px;
            border-radius: 16px;
            font-size: 0.7rem;
            font-weight: 500;
        }

        /* AI Analysis Sidebar - ENHANCED */
        .ai-analysis {
            background: #f7fafc;
            border-left: 1px solid #e2e8f0;
            border-right: 1px solid #e2e8f0;
            padding: 15px;
            overflow-y: auto;
        }

        .analysis-section {
            margin-bottom: 20px;
        }

        .analysis-section h4 {
            font-size: 0.8rem;
            color: #4a5568;
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .section-icon {
            font-size: 1rem;
        }

        .analysis-item {
            background: white;
            padding: 8px;
            margin-bottom: 6px;
            border-radius: 4px;
            border-left: 3px solid #4299e1;
            font-size: 0.75rem;
            transition: all 0.3s ease;
        }

        .analysis-item:hover {
            transform: translateX(2px);
            box-shadow: 0 2px 8px rgba(66, 153, 225, 0.1);
        }

        .analysis-item.clickable {
            cursor: pointer;
            border-left-color: #805ad5;
        }

        .analysis-item.clickable:hover {
            background: #faf5ff;
            border-left-color: #6b46c1;
        }

        .confidence-meter {
            width: 100%;
            height: 4px;
            background: #e2e8f0;
            border-radius: 2px;
            overflow: hidden;
            margin-top: 4px;
        }

        .confidence-fill {
            height: 100%;
            background: linear-gradient(90deg, #fc8181, #f6ad55, #68d391);
            border-radius: 2px;
            transition: width 0.8s ease;
        }

        .confidence-label {
            font-size: 0.6rem;
            color: #718096;
            margin-top: 2px;
            text-align: right;
        }

        .guidance-item {
            background: white;
            padding: 12px;
            margin-bottom: 8px;
            border-radius: 6px;
            border-left: 3px solid #4299e1;
            font-size: 0.75rem;
            line-height: 1.4;
        }

        .guidance-item.tip {
            border-left-color: #38a169;
            background: #f0fff4;
        }

        .guidance-item.warning {
            border-left-color: #ed8936;
            background: #fffbf0;
        }

        .guidance-item.insight {
            border-left-color: #805ad5;
            background: #faf5ff;
        }

        .guidance-title {
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 6px;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .guidance-text {
            color: #4a5568;
        }

        .suggestion-item {
            background: white;
            padding: 10px;
            margin-bottom: 6px;
            border-radius: 6px;
            border-left: 3px solid #805ad5;
            font-size: 0.75rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .suggestion-item:hover {
            background: #faf5ff;
            transform: translateX(2px);
            box-shadow: 0 2px 8px rgba(128, 90, 213, 0.1);
        }

        .suggestion-title {
            font-weight: 600;
            color: #553c9a;
            margin-bottom: 4px;
        }

        .suggestion-desc {
            color: #6b7280;
            line-height: 1.3;
        }

        .theme-item {
            position: relative;
            overflow: hidden;
        }

        .theme-item .theme-name {
            font-weight: 500;
            color: #2d3748;
            margin-bottom: 4px;
        }

        .theme-item .theme-count {
            font-size: 0.6rem;
            color: #718096;
            margin-bottom: 6px;
        }

        /* AI Feedback Log - NEW BOTTOM POSITION */
        .feedback-log {
            grid-column: 1 / -1;
            background: #fafafa;
            border-top: 2px solid #e2e8f0;
            max-height: 200px;
            min-height: 60px;
            transition: max-height 0.3s ease;
            overflow: hidden;
            display: none;
        }

        .feedback-log.expanded {
            max-height: 400px;
        }

        .feedback-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 20px;
            background: #f7fafc;
            border-bottom: 1px solid #e2e8f0;
            cursor: pointer;
        }

        .feedback-header h4 {
            font-size: 0.9rem;
            color: #4a5568;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin: 0;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .log-controls {
            display: flex;
            gap: 8px;
            align-items: center;
        }

        .log-toggle {
            background: #4299e1;
            color: white;
            border: none;
            padding: 4px 12px;
            border-radius: 4px;
            font-size: 0.75rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .log-toggle:hover {
            background: #3182ce;
        }

        .clear-feedback {
            background: #e2e8f0;
            border: none;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.7rem;
            cursor: pointer;
            color: #4a5568;
            transition: background 0.2s ease;
        }

        .clear-feedback:hover {
            background: #cbd5e0;
        }

        .feedback-content {
            height: calc(100% - 49px);
            overflow-y: auto;
            padding: 15px 20px;
        }

        .feedback-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .feedback-item {
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 12px 16px;
            font-size: 0.8rem;
            transition: all 0.2s ease;
            animation: slideInLog 0.3s ease;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .feedback-item:hover {
            border-color: #4299e1;
            box-shadow: 0 2px 8px rgba(66, 153, 225, 0.15);
            transform: translateY(-1px);
        }

        .feedback-item.analysis {
            border-left: 4px solid #805ad5;
            background: linear-gradient(135deg, #faf5ff 0%, #ffffff 100%);
        }

        .feedback-item.success {
            border-left: 4px solid #38a169;
            background: linear-gradient(135deg, #f0fff4 0%, #ffffff 100%);
        }

        .feedback-item.info {
            border-left: 4px solid #4299e1;
            background: linear-gradient(135deg, #ebf8ff 0%, #ffffff 100%);
        }

        .feedback-title {
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .feedback-badge {
            background: #4299e1;
            color: white;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 0.65rem;
            font-weight: 500;
        }

        .feedback-badge.analysis {
            background: #805ad5;
        }

        .feedback-badge.success {
            background: #38a169;
        }

        .feedback-reasoning {
            color: #4a5568;
            line-height: 1.5;
            font-size: 0.75rem;
        }

        .feedback-timestamp {
            color: #718096;
            font-size: 0.65rem;
            margin-top: 8px;
            text-align: right;
            font-style: italic;
        }

        .feedback-empty {
            text-align: center;
            color: #718096;
            font-size: 0.85rem;
            padding: 30px 20px;
            font-style: italic;
            background: white;
            border-radius: 8px;
            border: 1px dashed #cbd5e0;
        }

        @keyframes slideInLog {
            from { transform: translateY(10px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        /* Remove old demo controls since they're now in header */

        /* Instruction box */
        .demo-instructions {
            background: #e6fffa;
            border: 2px solid #38b2ac;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 30px;
        }

        .demo-instructions h4 {
            color: #234e52;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .demo-instructions ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .demo-instructions li {
            color: #2c5282;
            margin-bottom: 8px;
            padding-left: 20px;
            position: relative;
            line-height: 1.4;
        }

        .demo-instructions li::before {
            content: "‚Üí";
            position: absolute;
            left: 0;
            color: #38b2ac;
            font-weight: bold;
        }

        /* Responsive adjustments */
        @media (max-width: 1200px) {
            .demo-content {
                grid-template-columns: 260px 1fr 220px;
            }
            
            .demo-header-right {
                gap: 15px;
            }
            
            .progress-indicator {
                padding-left: 10px;
            }
        }

        @media (max-width: 768px) {
            .demo-content {
                grid-template-columns: 1fr;
                grid-template-rows: auto auto auto auto;
            }
            
            .demo-header {
                flex-direction: column;
                gap: 15px;
                align-items: flex-start;
                padding: 15px;
            }
            
            .demo-header-right {
                width: 100%;
                flex-direction: column;
                gap: 12px;
                align-items: flex-start;
            }
            
            .demo-controls-header {
                width: 100%;
                flex-direction: column;
                gap: 12px;
                align-items: flex-start;
            }
            
            .demo-actions {
                width: 100%;
                justify-content: flex-start;
            }
            
            .progress-indicator {
                padding-left: 0;
                border-left: none;
                border-top: 1px solid #e2e8f0;
                padding-top: 12px;
            }
            
            .feedback-log {
                order: 4;
                max-height: 250px;
            }
            
            .organization-canvas {
                order: 1;
            }
            
            .content-list {
                order: 2;
                max-height: 200px;
            }
            
            .ai-analysis {
                order: 3;
                max-height: 200px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Navigation -->
        <nav class="nav">
            <a href="index.html">Back to All Projects</a>
        </nav>

        <!-- Header -->
        <header class="header">
            <div class="project-number">3</div>
            <h1>Semantic Content Reorganization</h1>
            <p class="subtitle">AI assistant that automatically organizes messy content collections and improves search accuracy, helping teams spend less time searching for information and more time on high-value work.</p>
            
            <div class="business-impact">
                <h3>Business Impact:</h3>
                <p>Improve knowledge worker productivity by 30% through better content management and findability</p>
            </div>
        </header>

        <!-- Interactive Demo -->
        <section class="section">
            <h2 class="section-title">Interactive Demo</h2>
            <p class="section-description">Experience how AI analyzes content semantically to suggest better organization. Drag content items into groups or let AI suggest optimal categorization based on content analysis.</p>
            
            <div class="demo-instructions">
                <h4>üìÅ How to Use This Demo (Try Any Approach):</h4>
                <ul>
                    <li><strong>Option 1 - Let AI Do the Work:</strong> Click "Analyze Content" first to see AI automatically organize items with detailed reasoning</li>
                    <li><strong>Option 2 - Manual Organization:</strong> Drag content items from the left into any organizational group to see AI feedback on your choices</li>
                    <li><strong>Option 3 - Mixed Approach:</strong> Drag some items manually, then click "Analyze Content" to let AI handle the rest</li>
                    <li><strong>Create Custom Groups:</strong> Use "New Group" to create your own organizational categories, then click the group title to rename it</li>
                    <li><strong>Review AI Reasoning:</strong> Check the AI Feedback pane (right side) to see detailed explanations for every decision</li>
                    <li><strong>Start Over:</strong> Click "Reset" anytime to restore all 15 content items and try a different approach</li>
                </ul>
            </div>
            
            <!-- Demo Container -->
            <div class="demo-app">
                <div class="demo-header">
                    <div class="demo-title">Content Organization Assistant</div>
                    <div class="demo-header-right">
                        <div class="ai-status">
                            <div class="status-indicator"></div>
                            AI Content Analysis Active
                        </div>
                        <div class="demo-controls-header">
                            <div class="demo-actions">
                                <button class="demo-btn" onclick="analyzeContent()">Analyze Content</button>
                                <button class="demo-btn secondary" onclick="createGroup()">New Group</button>
                                <button class="demo-btn secondary" onclick="resetOrganization()">Reset</button>
                            </div>
                            <div class="progress-indicator">
                                <span>Progress:</span>
                                <div style="width: 60px; height: 4px; background: #e2e8f0; border-radius: 2px; overflow: hidden;">
                                    <div style="width: 0%; height: 100%; background: #4299e1; transition: width 0.3s ease;" id="progressBar"></div>
                                </div>
                                <span id="progressText">0%</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="demo-content">
                    <!-- Left Sidebar: Content Items -->
                    <div class="content-list">
                        <h4>Unorganized Content</h4>
                        <div id="contentItems">
                            <div class="content-item" draggable="true" data-id="1" data-type="strategy">
                                <div class="title">Q4 Marketing Strategy</div>
                                <div class="meta">PDF ‚Ä¢ 12 pages ‚Ä¢ Strategy</div>
                            </div>
                            <div class="content-item" draggable="true" data-id="2" data-type="meeting">
                                <div class="title">Team Meeting Notes - Oct 15</div>
                                <div class="meta">Doc ‚Ä¢ 3 pages ‚Ä¢ Meeting</div>
                            </div>
                            <div class="content-item" draggable="true" data-id="3" data-type="analysis">
                                <div class="title">Customer Feedback Analysis</div>
                                <div class="meta">Spreadsheet ‚Ä¢ Analysis</div>
                            </div>
                            <div class="content-item" draggable="true" data-id="4" data-type="strategy">
                                <div class="title">Product Roadmap 2025</div>
                                <div class="meta">Presentation ‚Ä¢ Strategy</div>
                            </div>
                            <div class="content-item" draggable="true" data-id="5" data-type="meeting">
                                <div class="title">Client Kickoff Meeting</div>
                                <div class="meta">Video ‚Ä¢ 45 min ‚Ä¢ Meeting</div>
                            </div>
                            <div class="content-item" draggable="true" data-id="6" data-type="design">
                                <div class="title">UI Design System v2</div>
                                <div class="meta">Figma ‚Ä¢ Design</div>
                            </div>
                            <div class="content-item" draggable="true" data-id="7" data-type="analysis">
                                <div class="title">Market Research Report</div>
                                <div class="meta">PDF ‚Ä¢ 28 pages ‚Ä¢ Analysis</div>
                            </div>
                            <div class="content-item" draggable="true" data-id="8" data-type="design">
                                <div class="title">Brand Guidelines Update</div>
                                <div class="meta">PDF ‚Ä¢ Design</div>
                            </div>
                            <div class="content-item" draggable="true" data-id="9" data-type="strategy">
                                <div class="title">Annual Business Plan</div>
                                <div class="meta">Doc ‚Ä¢ 45 pages ‚Ä¢ Strategy</div>
                            </div>
                            <div class="content-item" draggable="true" data-id="10" data-type="meeting">
                                <div class="title">Sprint Planning Session</div>
                                <div class="meta">Recording ‚Ä¢ 1.5hr ‚Ä¢ Meeting</div>
                            </div>
                            <div class="content-item" draggable="true" data-id="11" data-type="analysis">
                                <div class="title">Competitor Analysis Q3</div>
                                <div class="meta">Report ‚Ä¢ 22 pages ‚Ä¢ Analysis</div>
                            </div>
                            <div class="content-item" draggable="true" data-id="12" data-type="design">
                                <div class="title">Website Redesign Mockups</div>
                                <div class="meta">Figma ‚Ä¢ 15 screens ‚Ä¢ Design</div>
                            </div>
                            <div class="content-item" draggable="true" data-id="13" data-type="strategy">
                                <div class="title">Go-to-Market Strategy</div>
                                <div class="meta">Presentation ‚Ä¢ Strategy</div>
                            </div>
                            <div class="content-item" draggable="true" data-id="14" data-type="meeting">
                                <div class="title">Board Meeting Minutes</div>
                                <div class="meta">Doc ‚Ä¢ 8 pages ‚Ä¢ Meeting</div>
                            </div>
                            <div class="content-item" draggable="true" data-id="15" data-type="analysis">
                                <div class="title">User Research Findings</div>
                                <div class="meta">Report ‚Ä¢ Analysis</div>
                            </div>
                        </div>
                    </div>

                    <!-- Center: Organization Canvas -->
                    <div class="organization-canvas" id="organizationCanvas">
                        <div class="organization-group ai-suggested" id="group1">
                            <div class="group-header">
                                <div class="group-title">Strategic Planning</div>
                                <div class="group-badge">AI</div>
                            </div>
                            <div class="group-items" id="group1Items">
                                <!-- Items will be dropped here -->
                            </div>
                        </div>

                        <div class="organization-group ai-suggested" id="group2">
                            <div class="group-header">
                                <div class="group-title">Team Communication</div>
                                <div class="group-badge">AI</div>
                            </div>
                            <div class="group-items" id="group2Items">
                                <!-- Items will be dropped here -->
                            </div>
                        </div>

                        <div class="organization-group user-created" id="group3">
                            <div class="group-header">
                                <div class="group-title">Research & Analysis</div>
                                <div class="group-badge user">User</div>
                            </div>
                            <div class="group-items" id="group3Items">
                                <!-- Items will be dropped here -->
                            </div>
                        </div>
                    </div>

                    <!-- AI Analysis Sidebar - ENHANCED -->
                    <div class="ai-analysis">
                        <div class="analysis-section">
                            <h4><span class="section-icon">üéØ</span>Content Themes</h4>
                            <div id="themesContainer">
                                <!-- Dynamic themes will be populated here -->
                            </div>
                        </div>

                        <div class="analysis-section">
                            <h4><span class="section-icon">üß†</span>AI Guidance</h4>
                            <div id="guidanceContainer">
                                <!-- Dynamic guidance will be populated here -->
                            </div>
                        </div>

                        <div class="analysis-section">
                            <h4><span class="section-icon">üí°</span>Suggestions</h4>
                            <div id="suggestionsContainer">
                                <!-- Dynamic suggestions will be populated here -->
                            </div>
                        </div>
                    </div>

                    <!-- AI Feedback Log - NEW POSITION -->
                    <div class="feedback-log" id="feedbackLog">
                        <div class="feedback-header">
                            <h4><span class="section-icon">üìã</span>AI Activity Log</h4>
                            <div class="log-controls">
                                <button class="log-toggle" onclick="toggleLogExpanded()" id="logToggle">Expand</button>
                                <button class="clear-feedback" onclick="clearAllFeedback()">Clear</button>
                            </div>
                        </div>
                        <div class="feedback-content" id="feedbackContent">
                            <div class="feedback-list" id="feedbackList">
                                <div class="feedback-empty">
                                    AI activity and reasoning will appear here as you organize content. This log shows you exactly how the AI makes decisions.
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- <div class="demo-controls">
                    <div class="demo-actions">
                        <button class="demo-btn" onclick="analyzeContent()">Analyze Content</button>
                        <button class="demo-btn secondary" onclick="createGroup()">New Group</button>
                        <button class="demo-btn secondary" onclick="resetOrganization()">Reset</button>
                    </div>
                    <div class="progress-indicator">
                        <span>Organization Progress:</span>
                        <div style="width: 80px; height: 4px; background: #e2e8f0; border-radius: 2px; overflow: hidden;">
                            <div style="width: 0%; height: 100%; background: #4299e1; transition: width 0.3s ease;" id="progressBar"></div>
                        </div>
                        <span id="progressText">0%</span>
                    </div>
                </div> -->
            </div>
        </section>

        <!-- Rest of the page content remains the same... -->

         <!-- Technical Implementation -->
        <section class="section">
            <h2 class="section-title">Technical Implementation</h2>
            
            <h4>Built With</h4>
            <div class="tech-stack">
                <span class="tech-tag">React</span>
                <span class="tech-tag">Natural Language Processing</span>
                <span class="tech-tag">Semantic Analysis</span>
                <span class="tech-tag">D3.js Visualization</span>
            </div>

            <h4>Key Implementation</h4>
            <div class="code-block">
<span class="comment">// Semantic content analysis system</span>
<span class="keyword">const</span> analyzeContentSemantics = (documents) => {
  <span class="keyword">const</span> themes = extractThemes(documents);
  <span class="keyword">const</span> relationships = findRelationships(documents);
  <span class="keyword">const</span> clusters = performSemanticClustering(themes);
  
  <span class="keyword">return</span> {
    <span class="string">suggestedGroups</span>: generateGroupSuggestions(clusters),
    <span class="string">confidence</span>: calculateConfidenceScores(relationships),
    <span class="string">semanticMap</span>: buildRelationshipGraph(documents)
  };
};
            </div>

            <div class="implementation-note">
                <strong>AI Enhancement:</strong> Natural language processing analyzes content semantically to identify themes, relationships, and optimal organizational structures that improve findability and reduce search time.
            </div>

            <!-- <h4>Resources</h4>
            <div class="section-content">
                <p><a href="#" target="_blank">View Source Code ‚Üí</a></p>
                <p><a href="#" target="_blank">Try Live Demo ‚Üí</a></p>
                <p><a href="#" target="_blank">Design Files ‚Üí</a></p>
            </div> -->
        </section>

        <!-- Project Description -->
        <section class="section">
            <h2 class="section-title">Project Overview</h2>
            <div class="section-content">
                <p>Knowledge workers waste 30% of their time searching for information in poorly organized content systems. Traditional file organization relies on rigid folder structures that don't reflect how people actually think about and use content, leading to information silos and reduced productivity.</p>
                
                <p>This semantic content reorganization system uses AI to analyze document content, extract themes and relationships, and suggest intelligent organizational structures based on actual usage patterns and semantic connections. Rather than forcing content into predetermined categories, the system adapts to how teams naturally work and think about their information.</p>
                
                <p>By understanding content meaning rather than just metadata, the system enables semantic search, automatic categorization, and dynamic reorganization that evolves with changing project needs and team workflows, transforming chaotic content collections into intuitive, findable knowledge systems.</p>
            </div>
        </section>

        <!-- Value Proposition -->
        <section class="section">
            <h2 class="section-title">Value for UX Designers</h2>
            <div class="section-content">
                <p>This prototype demonstrates advanced information architecture and content strategy skills enhanced by AI semantic analysis‚Äîcapabilities that position designers as strategic partners in knowledge management and organizational efficiency initiatives across enterprise environments.</p>
                
                <p>The system showcases expertise in cognitive load reduction, findability optimization, and adaptive information systems‚Äîcompetencies that differentiate strategic UX practitioners who understand how AI can enhance human information processing and organizational workflows.</p>
                
                <p>Designers who can build intelligent content organization systems demonstrate mastery of semantic design patterns essential for knowledge management platforms, enterprise search systems, and collaborative tools where information findability directly impacts team productivity and business outcomes.</p>
            </div>
        </section>

        <!-- Efficiency Gains -->
        <section class="section">
            <h2 class="section-title">Efficiency Gains</h2>
            <div class="section-content">
                <p><strong>Time Savings:</strong> AI processes 1000+ content pieces versus manually organizing 20-50, while automatically generating semantic relationship maps that would take weeks to create and maintain manually.</p>
                
                <p><strong>Quality Improvements:</strong> Machine learning identifies content relationships and themes that humans might miss, creating more intuitive organizational structures based on actual semantic connections rather than surface-level categorization.</p>
                
                <p><strong>Scope Expansion:</strong> AI enables testing of complex organizational hierarchies, content relationship mapping, and adaptive categorization systems that would be impossible to validate manually across diverse content types and team workflows.</p>
            </div>
        </section>

        <!-- Strategy for UX Designers -->
        <section class="section">
            <h2 class="section-title">Implementation Strategy for UX Designers</h2>
            
            <div class="strategy-grid">
                <div class="strategy-item">
                    <h4>AI Enhancement Strategy</h4>
                    <ul>
                        <li>ChatGPT analyzes sample content to suggest organizational patterns and relationships</li>
                        <li>Claude generates content categorization rules and semantic connections</li>
                        <li>Google Gemini processes document/note samples to demonstrate reorganization</li>
                        <li>Testing Ready: Airtable with AI-suggested relationships + Figma visualization</li>
                    </ul>
                </div>

                <div class="strategy-item">
                    <h4>No-Code Implementation</h4>
                    <ul>
                        <li>Airtable: Content database with AI-powered categorization and relationship tracking</li>
                        <li>Notion: Semantic tagging system with automated content classification</li>
                        <li>Figma: Interactive organizational hierarchy visualization and flow mapping</li>
                        <li>Whimsical: Semantic relationship diagrams and content connection mapping</li>
                    </ul>
                </div>

                <div class="strategy-item">
                    <h4>Testing & Validation</h4>
                    <ul>
                        <li>Google Analytics: Content findability improvement tracking and search success rates</li>
                        <li>Hotjar: User behavior analysis during content discovery and organization tasks</li>
                        <li>UserVoice: Feedback collection on AI reorganization suggestions and accuracy</li>
                        <li>Tree Testing: Information architecture validation for AI-suggested structures</li>
                    </ul>
                </div>

                <div class="strategy-item">
                    <h4>Business Impact Measurement</h4>
                    <ul>
                        <li>Search success rates: Track 30% improvement in content findability metrics</li>
                        <li>Time-to-information: Measure reduced search time and increased productivity</li>
                        <li>Organization adoption: Monitor user acceptance of AI-suggested content structures</li>
                        <li>Knowledge retention: Track improved information discovery and reuse patterns</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Implementation Steps -->
        <section class="section">
            <h2 class="section-title">Step-by-Step Implementation</h2>
            
            <div class="steps-list">
                <div class="step-item">
                    <h4>Setup & Planning</h4>
                    <p>Install natural language processing libraries, set up semantic analysis algorithms, and create content taxonomy framework for different document types and organizational contexts.</p>
                </div>

                <div class="step-item">
                    <h4>AI Integration</h4>
                    <p>Implement content analysis APIs for theme extraction, build semantic clustering algorithms for relationship detection, and create machine learning pipeline for improving categorization accuracy over time.</p>
                </div>

                <div class="step-item">
                    <h4>Prototype Development</h4>
                    <p>Build interactive reorganization interface with drag-and-drop functionality, implement visual relationship mapping between content pieces, and create enhanced semantic search capabilities.</p>
                </div>

                <div class="step-item">
                    <h4>Testing & Validation</h4>
                    <p>Conduct organizational mental model studies comparing user vs. AI categorization approaches, validate semantic accuracy across different content domains, and measure findability improvements.</p>
                </div>

                <div class="step-item">
                    <h4>Iteration & Improvement</h4>
                    <p>Refine semantic analysis based on user feedback and usage patterns, optimize categorization algorithms for domain-specific content, and scale successful organizational patterns across teams.</p>
                </div>
            </div>
        </section>

        <!-- Call to Action -->
        <section class="cta-section">
            <h3>Ready to Build This Prototype?</h3>
            <p>Transform your UX process with AI-enhanced design capabilities</p>
            <div class="cta-links">
                <a href="mailto:tchr01@proton.me" class="cta-link">Get Implementation Guide</a>
                <a href="https://www.linkedin.com/in/mwhiteboston/" class="cta-link secondary">Connect on LinkedIn</a>
            </div>
        </section>

        <!-- Project Navigation -->
        <nav class="project-nav">
            <a href="predictive-error-prevention.html" class="project-nav-link prev">Previous Project</a>
            <a href="empathy-driven-design-validator.html" class="project-nav-link next">Next Project</a>
        </nav>
    </div>
        
    </div>

     <div id="toastContainer" class="success-toast">
    <span class="toast-icon">ü§ñ</span>
    <span id="toastMessage">AI is thinking...</span>
  </div>

  

  <script>
    function showToast(message) {
      const toast = document.getElementById('toastContainer');
      const toastMsg = document.getElementById('toastMessage');
      toastMsg.textContent = message;
      toast.classList.add('show');
      setTimeout(() => toast.classList.remove('show'), 3000);
    }

    // Replacing feedback log with toast only
    function addFeedback(title, message, type) {
      showToast(`${title}: ${message}`);
    }
  </script>


    <script>
        // Demo functionality
        let draggedElement = null;
        let organizationProgress = 0;
        let feedbackCounter = 0;

        // Initialize demo
        document.addEventListener('DOMContentLoaded', function() {
            setupDragAndDrop();
            updateProgress();
            updateAIAnalysis(); // Initialize AI analysis with dynamic content
        });

        function setupDragAndDrop() {
            // Add drag event listeners to content items
            document.querySelectorAll('.content-item').forEach(item => {
                item.addEventListener('dragstart', handleDragStart);
                item.addEventListener('dragend', handleDragEnd);
            });

            // Add drop event listeners to organization groups
            document.querySelectorAll('.organization-group').forEach(group => {
                group.addEventListener('dragover', handleDragOver);
                group.addEventListener('dragenter', handleDragEnter);
                group.addEventListener('dragleave', handleDragLeave);
                group.addEventListener('drop', handleDrop);
            });
        }

        function handleDragStart(e) {
            draggedElement = e.target;
            e.target.classList.add('dragging');
            e.dataTransfer.effectAllowed = 'move';
        }

        function handleDragEnd(e) {
            e.target.classList.remove('dragging');
            draggedElement = null;
        }

        function handleDragOver(e) {
            e.preventDefault();
            e.dataTransfer.dropEffect = 'move';
        }

        function handleDragEnter(e) {
            e.preventDefault();
            e.target.closest('.organization-group').classList.add('drop-target');
        }

        function handleDragLeave(e) {
            if (!e.target.closest('.organization-group').contains(e.relatedTarget)) {
                e.target.closest('.organization-group').classList.remove('drop-target');
            }
        }

        function handleDrop(e) {
            e.preventDefault();
            const group = e.target.closest('.organization-group');
            group.classList.remove('drop-target');
            
            if (draggedElement) {
                const groupItems = group.querySelector('.group-items');
                const itemTitle = draggedElement.querySelector('.title').textContent;
                const itemType = draggedElement.dataset.type;
                const groupTitle = group.querySelector('.group-title').textContent;
                
                // Create grouped item
                const groupedItem = document.createElement('div');
                groupedItem.className = 'grouped-item';
                groupedItem.textContent = itemTitle;
                groupedItem.dataset.type = itemType;
                
                // Add to group
                groupItems.appendChild(groupedItem);
                
                // Remove from original location
                draggedElement.remove();
                
                // Update progress
                organizationProgress += 7;
                updateProgress();
                
                // Update AI analysis with dynamic content
                updateAIAnalysis();
                
                // Check if this was the last item
                const remainingItems = document.querySelectorAll('.content-item').length;
                
                // Add feedback for the drop action
                let reasoning = '';
                const isAIGroup = group.classList.contains('ai-suggested');
                
                if (isAIGroup) {
                    if (groupTitle === 'Strategic Planning') {
                        reasoning = `Excellent choice! AI analysis confirms this document contains strategic planning content with high semantic similarity to other strategy documents.`;
                    } else if (groupTitle === 'Team Communication') {
                        reasoning = `Perfect match! AI detects strong communication and collaboration patterns that align with this organizational category.`;
                    } else if (groupTitle === 'Research & Analysis') {
                        reasoning = `Great categorization! AI identified analytical language patterns and data-driven content markers that fit this research grouping.`;
                    }
                } else {
                    reasoning = `User-defined placement in custom category. AI will learn from this organizational decision to improve future content classification suggestions.`;
                }
                
                addFeedback(
                    `üìÅ Manual Organization: "${itemTitle}"`,
                    `Moved to "${groupTitle}" group. ${reasoning}`,
                    'success'
                );
                
                // Special feedback if all items are now organized
                if (remainingItems === 0) {
                    setTimeout(() => {
                        addFeedback(
                            `üéâ All Content Successfully Organized!`,
                            `Outstanding! You've manually organized all 15 content items. The AI has learned from your organizational patterns and will use this knowledge to improve future suggestions. Click "Reset" to try different approaches or test AI-first organization.`,
                            'success'
                        );
                    }, 500);
                }
            }
        }

        function analyzeContent() {
            const unorganizedItems = document.querySelectorAll('.content-item');
            
            if (unorganizedItems.length === 0) {
                addFeedback(
                    `üéâ All Content Organized!`,
                    `Perfect! All content has been organized into categories. The AI has learned from your organizational choices. Click "Reset" to try different organizational approaches or test how AI handles new content sets.`,
                    'success'
                );
                return;
            }
            
            addFeedback('üîÑ AI Analysis Starting', 'Beginning semantic analysis of remaining unorganized content...', 'analysis');
            
            // Show analysis steps
            setTimeout(() => {
                addFeedback('üîç Extracting Themes', 'Analyzing document content to identify key themes, topics, and semantic patterns...', 'analysis');
            }, 600);
            
            setTimeout(() => {
                addFeedback('üß† Finding Relationships', 'Mapping relationships between documents based on content similarity and context...', 'analysis');
            }, 1200);
            
            // Simulate AI analysis
            setTimeout(() => {
                // Auto-organize remaining items (up to 6)
                let organized = 0;
                const maxToOrganize = Math.min(6, unorganizedItems.length);
                
                Array.from(unorganizedItems).forEach((item, index) => {
                    if (index < maxToOrganize) {
                        const itemType = item.dataset.type;
                        const itemTitle = item.querySelector('.title').textContent;
                        let targetGroup;
                        let reasoning = '';
                        
                        if (itemType === 'strategy') {
                            targetGroup = document.getElementById('group1');
                            reasoning = `Semantic analysis detected strategic keywords: "roadmap," "planning," "business strategy." Content similarity score of 87% with existing strategic planning documents.`;
                        } else if (itemType === 'meeting') {
                            targetGroup = document.getElementById('group2');
                            reasoning = `Meeting content identified through temporal markers and collaborative language patterns. Keywords: "notes," "minutes," "session." 92% confidence match.`;
                        } else if (itemType === 'analysis') {
                            targetGroup = document.getElementById('group3');
                            reasoning = `Analytical content detected through data-focused language: "feedback," "research," "findings," "analysis." NLP confidence: 89%.`;
                        } else if (itemType === 'design') {
                            // Create design group if needed
                            let designGroup = document.getElementById('designGroup');
                            if (!designGroup) {
                                designGroup = createDesignGroup();
                            }
                            targetGroup = designGroup;
                            reasoning = `Design content classification based on creative keywords: "UI," "mockups," "guidelines," "visual." Created specialized Design category with 91% confidence.`;
                        }
                        
                        if (targetGroup) {
                            const groupItems = targetGroup.querySelector('.group-items');
                            
                            const groupedItem = document.createElement('div');
                            groupedItem.className = 'grouped-item';
                            groupedItem.textContent = itemTitle;
                            groupedItem.dataset.type = itemType;
                            
                            groupItems.appendChild(groupedItem);
                            item.remove();
                            organized++;
                            
                            // Add detailed feedback for each move
                            setTimeout(() => {
                                addFeedback(
                                    `üìÅ AI Moved: "${itemTitle}"`,
                                    `Placed in "${targetGroup.querySelector('.group-title').textContent}" group. ${reasoning}`,
                                    'success'
                                );
                            }, 800 + (organized * 500));
                        }
                    }
                });
                
                organizationProgress += organized * 7;
                updateProgress();
                
                // Update AI analysis after organizing
                updateAIAnalysis();
                
                // Check if there are still items left after AI analysis
                setTimeout(() => {
                    const remainingItems = document.querySelectorAll('.content-item').length;
                    
                    if (remainingItems === 0) {
                        addFeedback(
                            `‚úÖ Complete Organization Achieved`,
                            `All ${organized} remaining items successfully organized using AI semantic analysis. The system has created a comprehensive organizational structure based on content relationships and meaning.`,
                            'success'
                        );
                    } else {
                        addFeedback(
                            `üìä Partial Analysis Complete`,
                            `AI organized ${organized} items using semantic analysis. ${remainingItems} items remain - these may need custom categories or manual review. Consider creating specialized groups for unique content types.`,
                            'info'
                        );
                    }
                }, 800 + (organized * 500 + 600));
                
            }, 1800);
        }

        function createDesignGroup() {
            const canvas = document.getElementById('organizationCanvas');
            
            const designGroup = document.createElement('div');
            designGroup.className = 'organization-group ai-suggested';
            designGroup.id = 'designGroup';
            
            designGroup.innerHTML = `
                <div class="group-header">
                    <div class="group-title">Design & Creative</div>
                    <div class="group-badge">AI</div>
                </div>
                <div class="group-items" id="designGroupItems">
                    <!-- Items will be dropped here -->
                </div>
            `;
            
            // Add drop functionality
            designGroup.addEventListener('dragover', handleDragOver);
            designGroup.addEventListener('dragenter', handleDragEnter);
            designGroup.addEventListener('dragleave', handleDragLeave);
            designGroup.addEventListener('drop', handleDrop);
            
            canvas.appendChild(designGroup);
            
            addFeedback(
                'üé® Created Design & Creative Group',
                'AI detected design-related content and automatically created a new organizational category to better structure your creative assets.',
                'info'
            );
            
            return designGroup;
        }

        function createGroup() {
            const canvas = document.getElementById('organizationCanvas');
            const groupCount = canvas.querySelectorAll('.organization-group').length + 1;
            
            const newGroup = document.createElement('div');
            newGroup.className = 'organization-group user-created';
            newGroup.id = `group${groupCount}`;
            
            newGroup.innerHTML = `
                <div class="group-header">
                    <div class="group-title editable" onclick="editGroupTitle(this)">Custom Group ${groupCount - 3}</div>
                    <div class="group-badge user">User</div>
                </div>
                <div class="group-items" id="group${groupCount}Items">
                    <!-- Items will be dropped here -->
                </div>
            `;
            
            // Add drop functionality
            newGroup.addEventListener('dragover', handleDragOver);
            newGroup.addEventListener('dragenter', handleDragEnter);
            newGroup.addEventListener('dragleave', handleDragLeave);
            newGroup.addEventListener('drop', handleDrop);
            
            canvas.appendChild(newGroup);
            
            // Update AI analysis when new group is created
            updateAIAnalysis();
            
            addFeedback(
                'üìÇ Created Custom Group',
                'New user-defined group created. Click the group title to rename it to something meaningful like "Project Alpha" or "Q4 Materials". AI will learn from how you organize content in custom categories.',
                'info'
            );
        }

        function resetOrganization() {
            // Clear all groups
            document.querySelectorAll('.group-items').forEach(container => {
                container.innerHTML = '';
            });
            
            // Remove any dynamically created groups
            const designGroup = document.getElementById('designGroup');
            if (designGroup) {
                designGroup.remove();
            }
            
            // Reset unorganized content
            const contentList = document.getElementById('contentItems');
            contentList.innerHTML = `
                <div class="content-item" draggable="true" data-id="1" data-type="strategy">
                    <div class="title">Q4 Marketing Strategy</div>
                    <div class="meta">PDF ‚Ä¢ 12 pages ‚Ä¢ Strategy</div>
                </div>
                <div class="content-item" draggable="true" data-id="2" data-type="meeting">
                    <div class="title">Team Meeting Notes - Oct 15</div>
                    <div class="meta">Doc ‚Ä¢ 3 pages ‚Ä¢ Meeting</div>
                </div>
                <div class="content-item" draggable="true" data-id="3" data-type="analysis">
                    <div class="title">Customer Feedback Analysis</div>
                    <div class="meta">Spreadsheet ‚Ä¢ Analysis</div>
                </div>
                <div class="content-item" draggable="true" data-id="4" data-type="strategy">
                    <div class="title">Product Roadmap 2025</div>
                    <div class="meta">Presentation ‚Ä¢ Strategy</div>
                </div>
                <div class="content-item" draggable="true" data-id="5" data-type="meeting">
                    <div class="title">Client Kickoff Meeting</div>
                    <div class="meta">Video ‚Ä¢ 45 min ‚Ä¢ Meeting</div>
                </div>
                <div class="content-item" draggable="true" data-id="6" data-type="design">
                    <div class="title">UI Design System v2</div>
                    <div class="meta">Figma ‚Ä¢ Design</div>
                </div>
                <div class="content-item" draggable="true" data-id="7" data-type="analysis">
                    <div class="title">Market Research Report</div>
                    <div class="meta">PDF ‚Ä¢ 28 pages ‚Ä¢ Analysis</div>
                </div>
                <div class="content-item" draggable="true" data-id="8" data-type="design">
                    <div class="title">Brand Guidelines Update</div>
                    <div class="meta">PDF ‚Ä¢ Design</div>
                </div>
                <div class="content-item" draggable="true" data-id="9" data-type="strategy">
                    <div class="title">Annual Business Plan</div>
                    <div class="meta">Doc ‚Ä¢ 45 pages ‚Ä¢ Strategy</div>
                </div>
                <div class="content-item" draggable="true" data-id="10" data-type="meeting">
                    <div class="title">Sprint Planning Session</div>
                    <div class="meta">Recording ‚Ä¢ 1.5hr ‚Ä¢ Meeting</div>
                </div>
                <div class="content-item" draggable="true" data-id="11" data-type="analysis">
                    <div class="title">Competitor Analysis Q3</div>
                    <div class="meta">Report ‚Ä¢ 22 pages ‚Ä¢ Analysis</div>
                </div>
                <div class="content-item" draggable="true" data-id="12" data-type="design">
                    <div class="title">Website Redesign Mockups</div>
                    <div class="meta">Figma ‚Ä¢ 15 screens ‚Ä¢ Design</div>
                </div>
                <div class="content-item" draggable="true" data-id="13" data-type="strategy">
                    <div class="title">Go-to-Market Strategy</div>
                    <div class="meta">Presentation ‚Ä¢ Strategy</div>
                </div>
                <div class="content-item" draggable="true" data-id="14" data-type="meeting">
                    <div class="title">Board Meeting Minutes</div>
                    <div class="meta">Doc ‚Ä¢ 8 pages ‚Ä¢ Meeting</div>
                </div>
                <div class="content-item" draggable="true" data-id="15" data-type="analysis">
                    <div class="title">User Research Findings</div>
                    <div class="meta">Report ‚Ä¢ Analysis</div>
                </div>
            `;
            
            // Re-setup drag and drop
            setupDragAndDrop();
            
            // Reset progress
            organizationProgress = 0;
            updateProgress();
            
            // Reset AI analysis
            updateAIAnalysis();
            
            addFeedback(
                'üîÑ System Reset',
                'Reset with 15 content items ready for organization. All previous categorizations cleared and AI analysis ready to begin fresh.',
                'info'
            );
        }

        function updateProgress() {
            const progressElement = document.getElementById('progressBar');
            const progressText = document.getElementById('progressText');
            
            if (progressElement) {
                progressElement.style.width = Math.min(organizationProgress, 100) + '%';
            }
            if (progressText) {
                progressText.textContent = Math.min(organizationProgress, 100) + '%';
            }
        }

        // ENHANCED AI ANALYSIS FUNCTION - DYNAMIC CONTENT
        function updateAIAnalysis() {
            updateContentThemes();
            updateGuidance();
            updateSuggestions();
        }

        function updateContentThemes() {
            const themesContainer = document.getElementById('themesContainer');
            const organizedItems = document.querySelectorAll('.grouped-item');
            const unorganizedItems = document.querySelectorAll('.content-item');
            
            // Count content types
            const themes = {
                strategy: { count: 0, confidence: 0, name: 'Strategy & Planning' },
                meeting: { count: 0, confidence: 0, name: 'Team Collaboration' },
                analysis: { count: 0, confidence: 0, name: 'Research & Analysis' },
                design: { count: 0, confidence: 0, name: 'Design & Creative' }
            };
            
            // Count organized items
            organizedItems.forEach(item => {
                const type = item.dataset.type;
                if (themes[type]) {
                    themes[type].count++;
                }
            });
            
            // Count unorganized items
            unorganizedItems.forEach(item => {
                const type = item.dataset.type;
                if (themes[type]) {
                    themes[type].count++;
                }
            });
            
            // Calculate confidence based on organization progress
            Object.keys(themes).forEach(key => {
                const theme = themes[key];
                if (theme.count > 0) {
                    // Higher confidence when items are organized
                    const organizedOfType = Array.from(organizedItems).filter(item => item.dataset.type === key).length;
                    const totalOfType = theme.count;
                    theme.confidence = Math.round(60 + (organizedOfType / totalOfType) * 35);
                }
            });
            
            // Generate theme HTML
            let themesHTML = '';
            Object.entries(themes).forEach(([key, theme]) => {
                if (theme.count > 0) {
                    themesHTML += `
                        <div class="theme-item analysis-item">
                            <div class="theme-name">${theme.name}</div>
                            <div class="theme-count">${theme.count} documents identified</div>
                            <div class="confidence-meter">
                                <div class="confidence-fill" style="width: ${theme.confidence}%"></div>
                            </div>
                            <div class="confidence-label">${theme.confidence}% confidence</div>
                        </div>
                    `;
                }
            });
            
            if (themesHTML === '') {
                themesHTML = '<div class="analysis-item">No themes detected yet. Start organizing content to see AI analysis.</div>';
            }
            
            themesContainer.innerHTML = themesHTML;
        }

        function updateGuidance() {
            const guidanceContainer = document.getElementById('guidanceContainer');
            const organizedItems = document.querySelectorAll('.grouped-item').length;
            const unorganizedItems = document.querySelectorAll('.content-item').length;
            const totalItems = 15;
            const groups = document.querySelectorAll('.organization-group');
            const activeGroups = Array.from(groups).filter(group => 
                group.querySelectorAll('.grouped-item').length > 0
            ).length;
            
            let guidance = [];
            
            if (organizedItems === 0) {
                // Starting state
                guidance = [
                    {
                        type: 'tip',
                        title: 'üöÄ Getting Started',
                        text: 'AI has detected 4 main content types in your collection. You can organize manually or let AI do the work automatically.'
                    },
                    {
                        type: 'insight',
                        title: 'üéØ Best Approach',
                        text: 'For fastest results, click "Analyze Content" to see AI organize everything at once with detailed explanations.'
                    }
                ];
            } else if (organizedItems <= 5) {
                // Early organization
                guidance = [
                    {
                        type: 'tip',
                        title: '‚úÖ Good Progress',
                        text: `You've organized ${organizedItems} of ${totalItems} items. AI is learning from your organizational patterns.`
                    },
                    {
                        type: 'insight',
                        title: 'üß† AI Insight',
                        text: 'Your choices are helping AI understand your preferred organizational structure. Similar content will be grouped accordingly.'
                    }
                ];
            } else if (organizedItems <= 10) {
                // Mid-way progress
                guidance = [
                    {
                        type: 'tip',
                        title: 'üéØ Momentum Building',
                        text: `Great work! ${organizedItems} items organized across ${activeGroups} categories. You're finding a good organizational rhythm.`
                    },
                    {
                        type: 'insight',
                        title: 'üìä Pattern Recognition',
                        text: 'AI has identified clear patterns in your organization. The remaining items should fit naturally into existing categories.'
                    }
                ];
            } else if (unorganizedItems > 0) {
                // Near completion
                guidance = [
                    {
                        type: 'tip',
                        title: 'üèÅ Almost There',
                        text: `Only ${unorganizedItems} items remaining! Your organizational structure is solid and nearly complete.`
                    },
                    {
                        type: 'insight',
                        title: 'üé® Fine-tuning',
                        text: 'Consider if any remaining items need custom categories, or let AI place them in the most appropriate existing groups.'
                    }
                ];
            } else {
                // Completion state
                const hasCustomGroups = Array.from(groups).some(group => 
                    group.classList.contains('user-created') && 
                    group.querySelectorAll('.grouped-item').length > 0
                );
                
                guidance = [
                    {
                        type: 'tip',
                        title: 'üéâ Perfect Organization',
                        text: `All ${totalItems} items successfully organized into ${activeGroups} logical categories. Content is now highly findable!`
                    }
                ];
                
                if (hasCustomGroups) {
                    guidance.push({
                        type: 'insight',
                        title: 'üß† Learning Complete',
                        text: 'AI has learned from your custom categories and will apply these patterns to future content organization tasks.'
                    });
                } else {
                    guidance.push({
                        type: 'insight',
                        title: 'üîÑ Try Different Approaches',
                        text: 'Click "Reset" to experiment with manual organization or create custom categories to see how AI adapts.'
                    });
                }
            }
            
            // Add contextual warnings or tips based on current state
            if (activeGroups === 1 && organizedItems > 3) {
                guidance.push({
                    type: 'warning',
                    title: '‚ö†Ô∏è Consider Variety',
                    text: 'Most items are in one category. Try spreading content across multiple groups for better organization.'
                });
            }
            
            if (activeGroups > 6) {
                guidance.push({
                    type: 'warning',
                    title: 'üìù Too Many Categories?',
                    text: 'You have many categories. Consider consolidating similar groups for easier content discovery.'
                });
            }
            
            // Generate HTML
            let guidanceHTML = '';
            guidance.forEach(item => {
                guidanceHTML += `
                    <div class="guidance-item ${item.type}">
                        <div class="guidance-title">${item.title}</div>
                        <div class="guidance-text">${item.text}</div>
                    </div>
                `;
            });
            
            guidanceContainer.innerHTML = guidanceHTML;
        }

        function updateSuggestions() {
            const suggestionsContainer = document.getElementById('suggestionsContainer');
            const organizedItems = document.querySelectorAll('.grouped-item').length;
            const unorganizedItems = document.querySelectorAll('.content-item').length;
            const totalItems = 15;
            
            let suggestions = [];
            
            if (organizedItems === 0) {
                // Initial suggestions
                suggestions = [
                    {
                        title: 'Start with AI Analysis',
                        desc: 'Click "Analyze Content" to let AI automatically organize your documents based on semantic similarity and content themes.'
                    },
                    {
                        title: 'Try Manual Organization',
                        desc: 'Drag documents into categories to see how AI validates your organizational choices and learns from your decisions.'
                    },
                    {
                        title: 'Create Custom Categories',
                        desc: 'Use "New Group" to create project-specific or team-specific organizational structures.'
                    }
                ];
            } else if (unorganizedItems > 8) {
                // Partially organized
                suggestions = [
                    {
                        title: 'Continue with AI',
                        desc: 'You have good progress! Let AI handle the remaining items to complete the organization quickly.'
                    },
                    {
                        title: 'Group by Project Phase',
                        desc: 'Consider organizing remaining items by project lifecycle: Planning ‚Üí Execution ‚Üí Review.'
                    },
                    {
                        title: 'Add Time-based Groups',
                        desc: 'Create quarterly or monthly groups to organize content by timeline and project phases.'
                    }
                ];
            } else if (unorganizedItems > 0) {
                // Almost done
                suggestions = [
                    {
                        title: 'Finish Organization',
                        desc: 'Only a few items left! Drag them manually or use AI to complete the organizational structure.'
                    },
                    {
                        title: 'Refine Categories',
                        desc: 'Consider splitting large categories or merging small ones for optimal findability.'
                    }
                ];
            } else {
                // All organized
                const groups = document.querySelectorAll('.organization-group');
                const activeGroups = Array.from(groups).filter(group => 
                    group.querySelectorAll('.grouped-item').length > 0
                ).length;
                
                suggestions = [
                    {
                        title: 'Perfect Organization!',
                        desc: `All 15 items organized into ${activeGroups} categories. Your content is now highly findable and well-structured.`
                    },
                    {
                        title: 'Test Different Approaches',
                        desc: 'Try "Reset" to experiment with alternative organizational strategies or let AI handle everything from the start.'
                    },
                    {
                        title: 'Create Timeline View',
                        desc: 'Consider adding date-based categories to track content evolution and project progression over time.'
                    }
                ];
            }
            
            // Generate HTML
            let suggestionsHTML = '';
            suggestions.forEach(suggestion => {
                suggestionsHTML += `
                    <div class="suggestion-item" onclick="handleSuggestionClick('${suggestion.title}')">
                        <div class="suggestion-title">${suggestion.title}</div>
                        <div class="suggestion-desc">${suggestion.desc}</div>
                    </div>
                `;
            });
            
            suggestionsContainer.innerHTML = suggestionsHTML;
        }

        function handleSuggestionClick(title) {
            // Handle suggestion clicks
            if (title.includes('AI Analysis') || title.includes('Continue with AI')) {
                analyzeContent();
            } else if (title.includes('Custom') || title.includes('New Group')) {
                createGroup();
            } else if (title.includes('Reset') || title.includes('Different Approaches')) {
                resetOrganization();
            } else {
                // General suggestion feedback
                addFeedback(
                    `üí° Suggestion Selected: ${title}`,
                    'AI suggestion noted. This organizational approach can help improve content findability and team workflow efficiency.',
                    'info'
                );
            }
        }

        function addFeedback(title, reasoning, type = 'info') {
            const feedbackList = document.getElementById('feedbackList');
            
            // Remove empty state if it exists
            const emptyState = feedbackList.querySelector('.feedback-empty');
            if (emptyState) {
                emptyState.remove();
            }
            
            feedbackCounter++;
            const timestamp = new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
            
            const feedbackItem = document.createElement('div');
            feedbackItem.className = `feedback-item ${type}`;
            feedbackItem.innerHTML = `
                <div class="feedback-title">
                    ${title}
                    <span class="feedback-badge ${type}">${type === 'analysis' ? 'Analysis' : type === 'success' ? 'Action' : 'Info'}</span>
                </div>
                <div class="feedback-reasoning">${reasoning}</div>
                <div class="feedback-timestamp">üïí ${timestamp}</div>
            `;
            
            // Add to top of list
            feedbackList.insertBefore(feedbackItem, feedbackList.firstChild);
            
            // Limit to 15 items for better performance
            const items = feedbackList.querySelectorAll('.feedback-item');
            if (items.length > 15) {
                items[items.length - 1].remove();
            }
            
            // Auto-expand log when new activity occurs
            const feedbackLog = document.getElementById('feedbackLog');
            if (!feedbackLog.classList.contains('expanded')) {
                feedbackLog.classList.add('expanded');
                document.getElementById('logToggle').textContent = 'Collapse';
            }
        }

        function clearAllFeedback() {
            const feedbackList = document.getElementById('feedbackList');
            feedbackList.innerHTML = `
                <div class="feedback-empty">
                    AI activity and reasoning will appear here as you organize content. This log shows you exactly how the AI makes decisions.
                </div>
            `;
        }

        function toggleLogExpanded() {
            const feedbackLog = document.getElementById('feedbackLog');
            const toggleBtn = document.getElementById('logToggle');
            
            if (feedbackLog.classList.contains('expanded')) {
                feedbackLog.classList.remove('expanded');
                toggleBtn.textContent = 'Expand';
            } else {
                feedbackLog.classList.add('expanded');
                toggleBtn.textContent = 'Collapse';
            }
        }

        function editGroupTitle(titleElement) {
            const currentTitle = titleElement.textContent;
            
            // Create input field
            const input = document.createElement('input');
            input.type = 'text';
            input.className = 'group-title-input';
            input.value = currentTitle;
            input.maxLength = 30;
            
            // Replace title with input
            titleElement.parentNode.replaceChild(input, titleElement);
            input.focus();
            input.select();
            
            // Handle saving
            function saveTitle() {
                const newTitle = input.value.trim() || currentTitle;
                
                // Create new title element
                const newTitleElement = document.createElement('div');
                newTitleElement.className = 'group-title editable';
                newTitleElement.textContent = newTitle;
                newTitleElement.onclick = () => editGroupTitle(newTitleElement);
                
                // Replace input with title
                input.parentNode.replaceChild(newTitleElement, input);
                
                // Update AI analysis when title changes
                updateAIAnalysis();
                
                // Add feedback if title was changed
                if (newTitle !== currentTitle && newTitle !== currentTitle.trim()) {
                    addFeedback(
                        `‚úèÔ∏è Group Renamed`,
                        `Custom group renamed to "${newTitle}". AI will associate this meaningful name with the content you organize within this category, improving future suggestions.`,
                        'info'
                    );
                }
            }
            
            // Save on enter or blur
            input.addEventListener('blur', saveTitle);
            input.addEventListener('keydown', (e) => {
                if (e.key === 'Enter') {
                    e.preventDefault();
                    saveTitle();
                } else if (e.key === 'Escape') {
                    e.preventDefault();
                    // Restore original title without saving
                    const originalTitleElement = document.createElement('div');
                    originalTitleElement.className = 'group-title editable';
                    originalTitleElement.textContent = currentTitle;
                    originalTitleElement.onclick = () => editGroupTitle(originalTitleElement);
                    input.parentNode.replaceChild(originalTitleElement, input);
                }
            });
        }

        // Make functions globally available
        window.analyzeContent = analyzeContent;
        window.createGroup = createGroup;
        window.resetOrganization = resetOrganization;
        window.clearAllFeedback = clearAllFeedback;
        window.editGroupTitle = editGroupTitle;
        window.handleSuggestionClick = handleSuggestionClick;
        window.toggleLogExpanded = toggleLogExpanded;
    </script>
</body>
</html>