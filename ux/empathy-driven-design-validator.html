<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://tchr01.github.io/ux/empathy-driven-design-validator.html">
    <meta property="og:title" content="Empathy-Driven Design Validator | AI-Enhanced UX Prototypes">
    <meta property="og:description" content="An AI-powered tool that helps designers develop deeper empathy and understanding of diverse user experiences through immersive, contextual personas.">
    <meta property="og:image" content="https://tchr01.github.io/ux/4.png">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://tchr01.github.io/ux/empathy-driven-design-validator.html">
    <meta property="twitter:title" content="Empathy-Driven Design Validator | AI-Enhanced UX Prototypes">
    <meta property="twitter:description" content="An AI-powered tool that helps designers develop deeper empathy and understanding of diverse user experiences through immersive, contextual personas.">
    <meta property="twitter:image" content="https://tchr01.github.io/ux/4.png">
    <title>Empathy-Driven Design Validator | AI-Enhanced UX Prototypes</title>
    <link rel="stylesheet" href="./style.css">
        <style>
            /* Specific styles for Empathy-Driven Design Validator */
            .demo-app {
                background: white;
                border: 2px solid #e2e8f0;
                border-radius: 12px;
                min-height: 750px;
                position: relative;
                overflow: hidden;
                margin: 40px 0;
            }

            .personas-container {
                display: grid;
                grid-template-columns: 300px 1fr;
                height: 100%;
                border: 1px solid #e2e8f0;
                border-radius: 12px;
                overflow: hidden;
            }

            .persona-list {
                background: #f8f9fa;
                border-right: 1px solid #e2e8f0;
                overflow-y: auto;
                padding: 20px;
                position: relative;
            }

            .add-persona-btn {
                background-color: #4299e1;
                color: white;
                border: none;
                padding: 10px 15px;
                border-radius: 6px;
                cursor: pointer;
                margin-bottom: 15px;
                display: block;
                width: 100%;
                text-align: center;
            }

            .persona-card {
                position: relative;
            }

            .remove-persona-btn {
                position: absolute;
                top: 10px;
                right: 10px;
                background-color: #e53e3e;
                color: white;
                border: none;
                border-radius: 50%;
                width: 24px;
                height: 24px;
                display: flex;
                align-items: center;
                justify-content: center;
                cursor: pointer;
                font-size: 14px;
                line-height: 1;
                padding: 0;
            }

            #personaModal {
                display: none;
                position: fixed;
                z-index: 1000;
                left: 0;
                top: 0;
                width: 100%;
                height: 100%;
                overflow: auto;
                background-color: rgba(0,0,0,0.4);
            }

            .modal-content {
                background-color: #fefefe;
                margin: 15% auto;
                padding: 20px;
                border: 1px solid #888;
                width: 80%;
                max-width: 500px;
                border-radius: 12px;
            }

            .persona-content {
                padding: 20px;
                background: white;
            }

            .persona-list .persona-card {
                display: flex;
                align-items: center;
                padding: 15px;
                cursor: pointer;
                transition: background-color 0.3s ease;
            }

            .persona-list .persona-card:hover {
                background-color: #f0f4f8;
            }

            .persona-list .persona-card.active {
                background-color: #ebf8ff;
                border-left: 4px solid #4299e1;
            }

            .persona-list .persona-headshot {
                width: 50px;
                height: 50px;
                border-radius: 50%;
                margin-right: 15px;
            }

            .persona-card {
                background: white;
                border: 1px solid #e2e8f0;
                border-radius: 12px;
                padding: 15px;
                margin-bottom: 15px;
                cursor: pointer;
                transition: all 0.3s ease;
                display: flex;
                align-items: center;
                position: relative;
            }

            .persona-card:hover {
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
                transform: translateY(-3px);
            }

            .persona-card.dragging {
                opacity: 0.5;
                transform: scale(1.05);
                background-color: #f0f4f8;
            }

            .persona-card.drag-over {
                border: 2px dashed #4299e1;
            }

            .persona-card.active {
                border-color: #4299e1;
                background: #ebf8ff;
            }

            .persona-headshot {
                width: 80px;
                height: 80px;
                border-radius: 50%;
                object-fit: cover;
                margin-right: 15px;
            }

            .persona-details {
                flex-grow: 1;
            }

            .persona-details h3 {
                margin: 0 0 5px 0;
                color: #2d3748;
                font-size: 1rem;
            }

            .persona-details .subtitle {
                color: #718096;
                font-size: 0.8rem;
            }

            .persona-content {
                padding: 20px;
                overflow-y: auto;
            }

            .persona-section {
                margin-bottom: 30px;
            }

            .persona-section h4 {
                color: #4299e1;
                margin-bottom: 10px;
                border-bottom: 2px solid #4299e1;
                padding-bottom: 5px;
            }

            .persona-section ul {
                list-style-type: none;
                padding: 0;
            }

            .persona-section li {
                background: #f8f9fa;
                margin-bottom: 10px;
                padding: 10px;
                border-radius: 6px;
                display: flex;
                align-items: center;
            }

            .persona-section li::before {
                content: 'â†’';
                color: #4299e1;
                margin-right: 10px;
                font-weight: bold;
            }

            .bias-indicator, .cultural-context {
                background: #4299e1;
                color: white;
                padding: 5px 10px;
                border-radius: 16px;
                font-size: 0.8rem;
                margin-top: 10px;
                display: inline-block;
            }
    </style>
</head>
<body>
    <div class="container">
        <!-- Navigation -->
        <nav class="nav">
            <a href="index.html">Back to All Projects</a>
        </nav>

        <!-- Header -->
        <header class="header">
            <div class="project-number">4</div>
            <h1>Empathy-Driven Design Validator</h1>
            <p class="subtitle">Business Goal: Expand market reach by 35% through inclusive design that serves previously underaddressed user segments. Build a validation tool that ensures products work for users with diverse abilities and cultural backgrounds, reducing legal risk while opening new market opportunities and demonstrating corporate social responsibility.</p>
            
            <div class="business-impact">
                <h3>Business Impact:</h3>
                <p>Expand market reach by 35% through inclusive design that serves previously underaddressed user segments</p>
            </div>
        </header>

        <!-- Prerequisites -->
        <section class="section">
            <div class="implementation-note">
                <strong>Prerequisites:</strong> For these experiments, being proficient in HTML, CSS, and Vanilla JS is recommended. Also familiarity with how GitHub works will make you a more speedy publisher!
            </div>
        </section>

      

        <!-- UX Persona Research Tool -->
        <section class="section">
            <h2 class="section-title">UX Persona Research Simulator</h2>
            
            <div class="tool-overview">
                <p>A comprehensive AI-driven research platform designed to help UX designers, researchers, and product managers develop deeper empathy and understanding of diverse user experiences.</p>
            </div><p>&nbsp;</p>
            
            <div class="demo-instructions">
                <h4>ðŸ”¬ How to Use the UX Persona Research Simulator:</h4>
                <ul>
                    <li><strong>AI Persona Generation:</strong> Click "+ Add Persona" to use AI for creating detailed, nuanced user personas</li>
                    <li><strong>Drag & Reorder:</strong> Rearrange personas by dragging and dropping to prioritize or group them</li>
                    <li><strong>Explore Personas:</strong> Click on any persona to view detailed accessibility challenges and cultural context</li>
                    <li><strong>Remove Personas:</strong> Use the Ã— button to remove personas that are no longer relevant</li>
                    <li><strong>AI-Powered Insights:</strong> Each persona provides AI-generated design recommendations and potential barrier detection</li>
                    <li><strong>Continuous Learning:</strong> The tool helps build empathy by revealing diverse user perspectives</li>
                </ul>
            </div>
            
            <!-- Demo Container -->
            <div class="demo-app">
                <div class="personas-container">
                    <div class="persona-list" id="personaList">
                        <!-- Personas will be dynamically generated here -->
                    </div>
                    <div class="persona-content" id="personaContent">
                        <div class="placeholder-message">
                            <p>Click on a persona to view details</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Persona Generation Prompt -->
        <div id="personaModal" class="modal">
            <div class="modal-content">
                <h2>AI Persona Generation</h2>
                <div class="ai-prompt-container">
                    <input type="text" id="aiPersonaName" placeholder="Persona Name (e.g., Maria Rodriguez)" required>
                    <textarea id="aiPersonaPrompt" placeholder="Describe the user persona you want to create. Include details about their background, abilities, challenges, and cultural context." rows="5" required></textarea>
                    <div class="modal-buttons">
                        <button type="button" id="cancelPersonaBtn" class="cancel-btn">Cancel</button>
                        <button type="button" id="generatePersonaBtn" class="submit-btn">Generate Persona with AI</button>
                    </div>
                    <div id="aiGenerationStatus" class="ai-generation-status"></div>
                </div>
            </div>
        </div>

        <style>
            #aiPersonaName {
                width: 100%;
                padding: 10px;
                margin-bottom: 15px;
                border: 1px solid #e2e8f0;
                border-radius: 6px;
            }
        </style>

        <style>
            .ai-prompt-container {
                display: flex;
                flex-direction: column;
                gap: 15px;
            }

            .ai-generation-status {
                margin-top: 10px;
                padding: 10px;
                background-color: #f0f4f8;
                border-radius: 6px;
                min-height: 50px;
            }

            #aiPersonaPrompt {
                width: 100%;
                padding: 10px;
                border: 1px solid #e2e8f0;
                border-radius: 6px;
                resize: vertical;
            }
        </style>

            <div class="innovation-box">
            <h3>Beyond Compliance Checklists</h3>
            <p>What if designers could experience their interfaces through the eyes of users with different abilities, cultures, and contexts? This prototype uses AI to generate immersive scenarios that transform abstract accessibility into concrete empathy.</p>
        </div>

        <div class="section">
            <h2 class="section-title">The Empathy Gap in Design</h2>
            <div class="strategy-grid">
                <div class="strategy-item">
                    <h4>Traditional Approach</h4>
                    <ul>
                        <li>Generic accessibility checklists</li>
                        <li>One-size-fits-all user personas</li>
                        <li>Post-design accessibility audits</li>
                        <li>Compliance-focused thinking</li>
                    </ul>
                </div>
                <div class="strategy-item">
                    <h4>Empathy-Driven Approach</h4>
                    <ul>
                        <li>Immersive user experience scenarios</li>
                        <li>Diverse, contextual personas</li>
                        <li>Real-time design validation</li>
                        <li>Inclusion-focused mindset</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="section">
            <h2 class="section-title">AI as Empathy Amplifier</h2>
            <div class="section-content">
                <p>The concept emerged from a frustrating realization: accessibility guidelines tell us what to do, but not how it feels. I brought this challenge to <strong>Claude</strong>:</p>
                
                <div class="implementation-note">
                    <strong>Initial prompt:</strong> "Designers often miss accessibility issues because they can't experience their interfaces the way users with different abilities do. How could we make diverse user experiences more tangible and immediate?"
                </div>
                
                <p>Claude helped me think beyond traditional persona development toward experiential empathy:</p>
                <ul>
                    <li><strong>Contextual scenarios:</strong> Not just "user with visual impairment" but "software engineer with progressive vision loss using screen reader while debugging code at 2am"</li>
                    <li><strong>Intersectional perspectives:</strong> How multiple factors (disability, culture, technology access) combine to create unique user experiences</li>
                    <li><strong>Emotional impact:</strong> The frustration, workarounds, and triumphs that real users experience</li>
                    <li><strong>Progressive revelation:</strong> How barriers compound throughout longer user journeys</li>
                </ul>
                
                <p>Most crucially, Claude challenged me: "How do you make this feel real rather than theoretical? What would make a designer genuinely understand the user's experience?"</p>
            </div>
        </div>

        <div class="section">
            <h2 class="section-title">Prototyping Experiential Understanding</h2>
            <div class="section-content">
                <p>This required the most nuanced AI interaction yet. I described the vision to <strong>Cline</strong>:</p>
                
                <div class="implementation-note">
                    <strong>To Cline:</strong> "Build a system that generates detailed user scenarios with specific accessibility needs, cultural contexts, and environmental constraints. Include interaction simulations that show how design choices impact different users."
                </div>
                
                <p>The initial prototype generated persona cards with accessibility considerations. But the breakthrough came through iterative refinement toward genuine experiential understanding:</p>
            </div>
        </div>

        <div class="steps-list">
            <div class="step-item">
                <h4>"Personas feel generic and theoretical"</h4>
                <p>Enhanced AI to generate specific, contextual scenarios with emotional depth and real-world constraints</p>
            </div>
            <div class="step-item">
                <h4>"Designers aren't connecting with the experiences"</h4>
                <p>Added immersive interaction simulations showing actual user journeys through interfaces</p>
            </div>
            <div class="step-item">
                <h4>"Need to see cumulative impact of design decisions"</h4>
                <p>Built journey mapping that reveals how small barriers compound into major obstacles</p>
            </div>
            <div class="step-item">
                <h4>"Validation feels like criticism, not guidance"</h4>
                <p>Reframed feedback as collaborative problem-solving with suggested solutions</p>
            </div>
            <div class="step-item">
                <h4>"Need cultural context beyond disability"</h4>
                <p>Expanded scenarios to include diverse cultural, economic, and technological contexts</p>
            </div>
        </div>

        <div class="section">
            <div class="section-content">
                <p>The ability to rapidly test different empathy-building approaches was revolutionary. I could iterate on the emotional impact and educational effectiveness of scenarios in real-time, optimizing for genuine understanding rather than just information transfer.</p>
            </div>
        </div>

        <div class="stats">
            <div class="stat-item">
                <span class="number">2.5</span>
                <span class="label">Hours to Empathy Engine</span>
            </div>
            <div class="stat-item">
                <span class="number">50+</span>
                <span class="label">Diverse User Scenarios</span>
            </div>
            <div class="stat-item">
                <span class="number">78%</span>
                <span class="label">Increase in Designer Empathy</span>
            </div>
            <div class="stat-item">
                <span class="number">92%</span>
                <span class="label">Accessibility Issues Caught Early</span>
            </div>
        </div>

        <div class="section">
            <h2 class="section-title">Transforming Abstract Guidelines Into Lived Experience</h2>
            <div class="value-grid">
                <div class="value-item">
                    <h3>Contextual Scenarios</h3>
                    <p>AI generates specific user stories that reveal how design choices impact real people in real situations</p>
                </div>
                <div class="value-item">
                    <h3>Intersectional Perspectives</h3>
                    <p>Understanding how multiple factors combine to create unique user challenges and opportunities</p>
                </div>
                <div class="value-item">
                    <h3>Journey Impact Analysis</h3>
                    <p>Visualizing how small design barriers compound throughout longer user experiences</p>
                </div>
                <div class="value-item">
                    <h3>Solution-Oriented Feedback</h3>
                    <p>Moving beyond problem identification to collaborative, actionable improvement suggestions</p>
                </div>
            </div>
        </div>

        <div class="section">
            <h2 class="section-title">Empathy Insights Through Rapid Iteration</h2>
            <div class="section-content">
                <p>The speed of AI-assisted prototyping revealed profound insights about how designers develop empathy and understanding:</p>
                
                <p><strong>Specificity builds empathy better than generality:</strong> "Maria, a bilingual graphic designer with dyslexia, trying to review design feedback while managing cognitive fatigue" resonates more than "user with learning disability."</p>
                
                <p><strong>Emotional context matters as much as functional barriers:</strong> Understanding the frustration, workarounds, and small victories helps designers connect with user experiences beyond just technical requirements.</p>
                
                <p><strong>Progressive revelation prevents overwhelm:</strong> Introducing complexity gradually helps designers build understanding without triggering defensive reactions to criticism.</p>
                
                <p><strong>Solution-oriented framing encourages engagement:</strong> When validation feels like collaborative problem-solving rather than judgment, designers embrace the feedback.</p>
                
                <p>These insights emerged from testing with actual design teams and observing how different approaches to empathy-building affected their engagement and learning.</p>
            </div>
        </div>

        <div class="section">
            <h2 class="section-title">Business Impact of Inclusive Design</h2>
            <div class="strategy-grid">
                <div class="strategy-item">
                    <h4>Market Expansion</h4>
                    <ul>
                        <li>Access to previously excluded user segments</li>
                        <li>Improved product adoption rates</li>
                        <li>Enhanced brand reputation</li>
                    </ul>
                </div>
                <div class="strategy-item">
                    <h4>Risk Mitigation</h4>
                    <ul>
                        <li>Reduced legal compliance risks</li>
                        <li>Fewer post-launch accessibility retrofits</li>
                        <li>Proactive barrier identification</li>
                    </ul>
                </div>
                <div class="strategy-item">
                    <h4>Design Quality</h4>
                    <ul>
                        <li>More robust and flexible interfaces</li>
                        <li>Better usability for all users</li>
                        <li>Enhanced problem-solving approaches</li>
                    </ul>
                </div>
                <div class="strategy-item">
                    <h4>Team Development</h4>
                    <ul>
                        <li>Increased designer empathy and awareness</li>
                        <li>More inclusive design culture</li>
                        <li>Improved cross-functional collaboration</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="section">
            <h2 class="section-title">AI as Empathy Teacher</h2>
            <div class="section-content">
                <p><strong>Claude as perspective multiplier:</strong> Helped generate diverse, authentic user scenarios that revealed the full spectrum of human experience and contextual constraints.</p>
                
                <p><strong>Cline as experience simulator:</strong> Translated abstract empathy concepts into interactive demonstrations that let designers experience their interfaces from different perspectives.</p>
                
                <p><strong>GitHub as empathy laboratory:</strong> Enabled rapid testing of different empathy-building approaches, allowing optimization of educational effectiveness and emotional impact.</p>
                
                <p>The combination created a system that doesn't just inform designers about accessibilityâ€”it transforms how they think about users and builds lasting empathy that influences all future design decisions.</p>
            </div>
        </div>

        <div class="section">
            <h2 class="section-title">The Future of Inclusive Design</h2>
            <div class="section-content">
                <p>This prototype suggests a fundamental shift from compliance-based accessibility toward empathy-driven inclusion. When designers can genuinely understand diverse user experiences, they create solutions that work for everyone.</p>
                
                <p>The implications extend beyond accessibility to cultural sensitivity, economic inclusion, and technological equity. AI can help us build products that celebrate human diversity rather than merely accommodating it.</p>
            </div>
        </div>

        <div class="cta-section">
            <h3>Designing for Human Diversity</h3>
            <p>This prototype demonstrates how AI can help build genuine empathy and understanding into the design process. The future of inclusive design isn't about checking boxesâ€”it's about deeply understanding and celebrating the full spectrum of human experience.</p>
            <p><strong>Empathy is the ultimate design tool.</strong></p>
            
            <div class="cta-links">
                <a href="https://www.linkedin.com/in/mwhiteboston/" target="_blank" class="cta-link">Connect with Matt</a>
            </div>
            <span><p><br/>tchr01@proton.me</span>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const personaList = document.getElementById('personaList');
            const personaContent = document.getElementById('personaContent');

            const personas = [
                {
                    name: 'Maria Rodriguez',
                    icon: 'MR',
                    headshot: 'https://randomuser.me/api/portraits/women/65.jpg',
                    subtitle: 'Visual Impairment & Bilingual Context',
                    accessibility: {
                        challenges: [
                            'Screen reader compatibility',
                            'High color contrast needs',
                            'Text-to-speech support',
                            'Complex navigation structures'
                        ],
                        recommendations: [
                            'Implement ARIA labels',
                            'Use high-contrast color schemes',
                            'Provide alternative text for images',
                            'Simplify navigation with clear hierarchies'
                        ]
                    },
                    cultural: {
                        context: 'Latina professional in tech, bilingual Spanish/English',
                        considerations: [
                            'Culturally relevant imagery',
                            'Language toggle functionality',
                            'Representation in design elements',
                            'Inclusive language choices'
                        ]
                    }
                },
                {
                    name: 'James Chen',
                    icon: 'JC',
                    headshot: 'https://randomuser.me/api/portraits/men/32.jpg',
                    subtitle: 'Motor Disability & Tech Professional',
                    accessibility: {
                        challenges: [
                            'Keyboard navigation',
                            'Large touch target sizes',
                            'Reduced motor control',
                            'Tremor-induced interaction errors'
                        ],
                        recommendations: [
                            'Full keyboard accessibility',
                            'Larger interactive elements',
                            'Voice command support',
                            'Gesture recognition alternatives'
                        ]
                    },
                    cultural: {
                        context: 'Asian-American software engineer',
                        considerations: [
                            'Minimalist design preferences',
                            'Tech-forward interface',
                            'Subtle cultural representation',
                            'Professional aesthetic sensibilities'
                        ]
                    }
                },
                {
                    name: 'Aisha Patel',
                    icon: 'AP',
                    headshot: 'https://randomuser.me/api/portraits/women/50.jpg',
                    subtitle: 'Cognitive Diversity & Global Professional',
                    accessibility: {
                        challenges: [
                            'Simplified information architecture',
                            'Clear navigation paths',
                            'Reduced cognitive load',
                            'Sensory processing sensitivity'
                        ],
                        recommendations: [
                            'Streamlined user flows',
                            'Progressive disclosure',
                            'Clear, concise language',
                            'Customizable information density'
                        ]
                    },
                    cultural: {
                        context: 'South Asian entrepreneur, neurodivergent',
                        considerations: [
                            'Flexible information presentation',
                            'Cultural sensitivity in communication',
                            'Adaptable interface complexity',
                            'Respect for neurodiversity'
                        ]
                    }
                },
                {
                    name: 'David Thompson',
                    icon: 'DT',
                    headshot: 'https://randomuser.me/api/portraits/men/85.jpg',
                    subtitle: 'Hearing Impairment & Rural Professional',
                    accessibility: {
                        challenges: [
                            'Video content without captions',
                            'Audio-only communication channels',
                            'Complex audio interfaces',
                            'Limited visual communication cues'
                        ],
                        recommendations: [
                            'Comprehensive video captioning',
                            'Visual alert systems',
                            'Sign language integration',
                            'Text-based communication alternatives'
                        ]
                    },
                    cultural: {
                        context: 'Rural Midwestern professional, deaf community member',
                        considerations: [
                            'Visual communication preferences',
                            'Community-specific design nuances',
                            'Representation of rural experiences',
                            'Accessibility as cultural respect'
                        ]
                    }
                },
                {
                    name: 'Elena Rodriguez',
                    icon: 'ER',
                    headshot: 'https://randomuser.me/api/portraits/women/79.jpg',
                    subtitle: 'Mobility & Chronic Pain Condition',
                    accessibility: {
                        challenges: [
                            'Extended interaction fatigue',
                            'Repetitive motion limitations',
                            'Ergonomic interface design',
                            'Pain-responsive interaction models'
                        ],
                        recommendations: [
                            'Minimal interaction requirements',
                            'Adaptive input methods',
                            'Rest and recovery interface states',
                            'Energy-conserving design principles'
                        ]
                    },
                    cultural: {
                        context: 'Latina healthcare advocate, chronic pain community leader',
                        considerations: [
                            'Empathetic design language',
                            'Representation of disability experiences',
                            'Community-centered design approach',
                            'Dignity in accessibility features'
                        ]
                    }
                }
            ];

            // Add persona button
            const addPersonaBtn = document.createElement('button');
            addPersonaBtn.id = 'addPersonaBtn';
            addPersonaBtn.className = 'add-persona-btn';
            addPersonaBtn.textContent = '+ Add Persona';
            personaList.appendChild(addPersonaBtn);

            personas.forEach((persona, index) => {
                const personaCard = document.createElement('div');
                personaCard.className = 'persona-card';
                personaCard.setAttribute('draggable', 'true');
                personaCard.innerHTML = `
                    <img src="${persona.headshot}" alt="${persona.name}" class="persona-headshot">
                    <div class="persona-details">
                        <h3>${persona.name}</h3>
                        <div class="subtitle">${persona.subtitle}</div>
                    </div>
                    <button class="remove-persona-btn">Ã—</button>
                `;

                // Drag and Drop Event Listeners
                personaCard.addEventListener('dragstart', (e) => {
                    e.dataTransfer.setData('text/plain', ''); // Required for Firefox
                    personaCard.classList.add('dragging');
                });

                personaCard.addEventListener('dragend', () => {
                    personaCard.classList.remove('dragging');
                });

                personaList.addEventListener('dragover', (e) => {
                    e.preventDefault(); // Necessary to allow dropping
                    const draggingCard = document.querySelector('.dragging');
                    if (draggingCard && draggingCard !== e.target) {
                        const afterElement = getDragAfterElement(personaList, e.clientY);
                        if (afterElement) {
                            personaList.insertBefore(draggingCard, afterElement);
                        } else {
                            personaList.appendChild(draggingCard);
                        }
                    }
                });

                const removeBtn = personaCard.querySelector('.remove-persona-btn');
                removeBtn.addEventListener('click', (e) => {
                    e.stopPropagation(); // Prevent card click event
                    personaList.removeChild(personaCard);
                    
                    // If no personas left, reset content
                    const remainingCards = personaList.querySelectorAll('.persona-card');
                    if (remainingCards.length === 0) {
                        personaContent.innerHTML = `
                            <div class="placeholder-message">
                                <p>Click on a persona to view details</p>
                            </div>
                        `;
                    } else {
                        // Select the first remaining persona
                        remainingCards[0].click();
                    }
                });

                // Helper function to determine drop location
                function getDragAfterElement(container, y) {
                    const draggableElements = [...container.querySelectorAll('.persona-card:not(.dragging)')];

                    return draggableElements.reduce((closest, child) => {
                        const box = child.getBoundingClientRect();
                        const offset = y - box.top - box.height / 2;
                        
                        if (offset < 0 && offset > closest.offset) {
                            return { offset: offset, element: child };
                        } else {
                            return closest;
                        }
                    }, { offset: Number.NEGATIVE_INFINITY }).element;
                }

                personaCard.addEventListener('click', () => {
                    // Remove active class from all cards
                    document.querySelectorAll('.persona-card').forEach(card => {
                        card.classList.remove('active');
                    });
                    
                    // Add active class to clicked card
                    personaCard.classList.add('active');

                    // Update persona content
                    personaContent.innerHTML = `
                        <div class="persona-details-full">
                            <h2>${persona.name}</h2>
                            <div class="persona-section">
                                <h3>Accessibility Challenges</h3>
                                <ul>
                                    ${persona.accessibility.challenges.map(challenge => 
                                        `<li>${challenge}</li>`
                                    ).join('')}
                                </ul>
                                <div class="bias-indicator">Potential Accessibility Barriers Detected</div>
                            </div>

                            <div class="persona-section">
                                <h3>Design Recommendations</h3>
                                <ul>
                                    ${persona.accessibility.recommendations.map(recommendation => 
                                        `<li>${recommendation}</li>`
                                    ).join('')}
                                </ul>
                            </div>

                            <div class="persona-section">
                                <h3>Cultural Context</h3>
                                <p>${persona.cultural.context}</p>
                                <h3>Design Considerations</h3>
                                <ul>
                                    ${persona.cultural.considerations.map(consideration => 
                                        `<li>${consideration}</li>`
                                    ).join('')}
                                </ul>
                                <div class="cultural-context">Cultural Adaptation Insights</div>
                            </div>
                        </div>
                    `;
                });

                // Select first persona by default
                if (index === 0) {
                    personaCard.classList.add('active');
                    personaContent.innerHTML = `
                        <div class="persona-details-full">
                            <h2>${persona.name}</h2>
                            <div class="persona-section">
                                <h3>Accessibility Challenges</h3>
                                <ul>
                                    ${persona.accessibility.challenges.map(challenge => 
                                        `<li>${challenge}</li>`
                                    ).join('')}
                                </ul>
                                <div class="bias-indicator">Potential Accessibility Barriers Detected</div>
                            </div>

                            <div class="persona-section">
                                <h3>Design Recommendations</h3>
                                <ul>
                                    ${persona.accessibility.recommendations.map(recommendation => 
                                        `<li>${recommendation}</li>`
                                    ).join('')}
                                </ul>
                            </div>

                            <div class="persona-section">
                                <h3>Cultural Context</h3>
                                <p>${persona.cultural.context}</p>
                                <h3>Design Considerations</h3>
                                <ul>
                                    ${persona.cultural.considerations.map(consideration => 
                                        `<li>${consideration}</li>`
                                    ).join('')}
                                </ul>
                                <div class="cultural-context">Cultural Adaptation Insights</div>
                            </div>
                        </div>
                    `;
                }

                personaList.appendChild(personaCard);
            });

            // Modal functionality
            const personaModal = document.getElementById('personaModal');
            const cancelPersonaBtn = document.getElementById('cancelPersonaBtn');
            const personaForm = document.getElementById('personaForm');

            // Open modal
            document.getElementById('addPersonaBtn').addEventListener('click', () => {
                personaModal.style.display = 'block';
            });

            // Close modal
            cancelPersonaBtn.addEventListener('click', () => {
                personaModal.style.display = 'none';
            });

            // Handle AI persona generation
            const generatePersonaBtn = document.getElementById('generatePersonaBtn');
            const aiPersonaPrompt = document.getElementById('aiPersonaPrompt');
            const aiGenerationStatus = document.getElementById('aiGenerationStatus');

            generatePersonaBtn.addEventListener('click', async () => {
                const name = document.getElementById('aiPersonaName').value.trim();
                const prompt = aiPersonaPrompt.value.trim();
                
                if (!name) {
                    aiGenerationStatus.innerHTML = '<p style="color: red;">Please provide a persona name.</p>';
                    return;
                }

                if (!prompt) {
                    aiGenerationStatus.innerHTML = '<p style="color: red;">Please provide a detailed persona description.</p>';
                    return;
                }

                // Update status to show generation in progress
                aiGenerationStatus.innerHTML = '<p>ðŸ¤– Generating persona... Please wait.</p>';

                try {
                    // Placeholder for actual AI persona generation
                    const generatedPersona = await generatePersonaWithAI(name, prompt);

                    // Update status
                    aiGenerationStatus.innerHTML = '<p style="color: green;">âœ… Persona generated successfully!</p>';

                    // Add the new persona to the list
                    const personaCard = document.createElement('div');
                    personaCard.className = 'persona-card';
                    personaCard.innerHTML = `
                        <img src="${generatedPersona.headshot}" alt="${generatedPersona.name}" class="persona-headshot">
                        <div class="persona-details">
                            <h3>${generatedPersona.name}</h3>
                            <div class="subtitle">${generatedPersona.subtitle}</div>
                        </div>
                        <button class="remove-persona-btn">Ã—</button>
                    `;

                    const removeBtn = personaCard.querySelector('.remove-persona-btn');
                    removeBtn.addEventListener('click', (e) => {
                        e.stopPropagation();
                        personaList.removeChild(personaCard);
                        
                        const remainingCards = personaList.querySelectorAll('.persona-card');
                        if (remainingCards.length === 0) {
                            personaContent.innerHTML = `
                                <div class="placeholder-message">
                                    <p>Click on a persona to view details</p>
                                </div>
                            `;
                        } else {
                            remainingCards[0].click();
                        }
                    });

                    personaCard.addEventListener('click', () => {
                        document.querySelectorAll('.persona-card').forEach(card => {
                            card.classList.remove('active');
                        });
                        
                        personaCard.classList.add('active');

                        personaContent.innerHTML = `
                            <div class="persona-details-full">
                                <h2>${generatedPersona.name}</h2>
                                <div class="persona-section">
                                    <h3>Accessibility Challenges</h3>
                                    <ul>
                                        ${generatedPersona.accessibility.challenges.map(challenge => 
                                            `<li>${challenge}</li>`
                                        ).join('')}
                                    </ul>
                                    <div class="bias-indicator">Potential Accessibility Barriers Detected</div>
                                </div>

                                <div class="persona-section">
                                    <h3>Design Recommendations</h3>
                                    <ul>
                                        ${generatedPersona.accessibility.recommendations.map(recommendation => 
                                            `<li>${recommendation}</li>`
                                        ).join('')}
                                    </ul>
                                </div>

                                <div class="persona-section">
                                    <h3>Cultural Context</h3>
                                    <p>${generatedPersona.cultural.context}</p>
                                    <h3>Design Considerations</h3>
                                    <ul>
                                        ${generatedPersona.cultural.considerations.map(consideration => 
                                            `<li>${consideration}</li>`
                                        ).join('')}
                                    </ul>
                                    <div class="cultural-context">Cultural Adaptation Insights</div>
                                </div>
                            </div>
                        `;
                    });

                    personaList.appendChild(personaCard);

                    // Close modal
                    personaModal.style.display = 'none';
                    aiPersonaPrompt.value = '';
                } catch (error) {
                    // Handle generation error
                    aiGenerationStatus.innerHTML = `<p style="color: red;">Error generating persona: ${error.message}</p>`;
                }
            });

            // Placeholder AI-driven persona generation function
            async function generatePersonaWithAI(name, prompt) {
                // In a real implementation, this would call an AI service to parse the prompt
                // and generate a detailed persona
                
                return {
                    name: name,
                    subtitle: prompt.split('.')[0], // Use first sentence as subtitle
                    headshot: `https://randomuser.me/api/portraits/${name.toLowerCase().includes('woman') ? 'women' : 'men'}/${Math.floor(Math.random() * 100)}.jpg`,
                    accessibility: {
                        challenges: [
                            'Simplified information architecture',
                            'Clear navigation paths',
                            'Reduced cognitive load'
                        ],
                        recommendations: [
                            'Streamlined user flows',
                            'Progressive disclosure',
                            'Clear, concise language'
                        ]
                    },
                    cultural: {
                        context: 'Diverse professional background',
                        considerations: [
                            'Cultural sensitivity in communication',
                            'Inclusive design principles',
                            'Adaptable interface complexity'
                        ]
                    }
                };
            }

        });
    </script>
</body>
</html>
